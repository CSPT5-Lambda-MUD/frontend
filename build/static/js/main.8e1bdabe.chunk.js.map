{"version":3,"sources":["logo2.png","Auth/PrivateRoute.js","Components/NavBar.js","Components/Home.js","Components/Login.js","Components/Game.js","App.js","index.js"],"names":["module","exports","PrivateRoute","Component","component","rest","render","props","localStorage","getItem","to","NavBar","useState","isLogin","setIsLogin","useEffect","console","log","exact","activeClassName","id","onClick","clear","window","location","reload","Home","className","src","logo","alt","Login","username","setUsername","password","setPassword","password2","setPassword2","register","setRegister","error","setError","loading","setLoading","onSubmit","e","preventDefault","credentials","loginCredentials","signUpCredentials","password1","axios","post","then","response","setItem","data","key","history","push","catch","signIn","TextField","name","label","variant","type","value","onChange","target","required","Button","Game","App","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.8e1bdabe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo2.fc297084.png\";","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      //if there is no token redirect user to the login screen\n      localStorage.getItem('token') ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login\" />\n      )\n    }\n  />\n);\n\nexport default PrivateRoute;\n","import React, { useState, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst NavBar = () => {\n  const [isLogin, setIsLogin] = useState(localStorage.getItem('token'));\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      console.log('Checking local Storage');\n      setIsLogin(true);\n    }\n  }, [isLogin]);\n\n  //remove token from local storage\n  function logout() {\n    localStorage.clear();\n    window.location.reload();\n  }\n\n  return (\n    <div>\n      <nav>\n        <NavLink exact to=\"/\" activeClassName=\"selectedLink\" id=\"home\">\n          Home\n        </NavLink>\n        {isLogin ? (\n          <NavLink onClick={logout} to=\"/login\" activeClassName=\"selectedLink\">\n            Log out\n          </NavLink>\n        ) : (\n          <NavLink to=\"/login\" activeClassName=\"selectedLink\">\n            Log in\n          </NavLink>\n        )}\n\n        {/* put in a protected route after implementing auth */}\n        <NavLink to=\"/game\" activeClassName=\"selectedLink\">\n          Play now\n        </NavLink>\n      </nav>\n    </div>\n  );\n};\n\nexport default NavBar;\n","import React from 'react';\nimport logo from '../logo2.png';\n\nconst Home = () => {\n  return (\n    <div>\n      <header className=\"App-header\">\n        <h1>Home Page</h1>\n        <br />\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n      </header>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState } from 'react';\nimport { TextField, Button } from '@material-ui/core';\nimport axios from 'axios';\n\nconst Login = props => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [password2, setPassword2] = useState('');\n  const [register, setRegister] = useState(false);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = e => {\n    setLoading(true);\n    e.preventDefault();\n    //create object with credentials\n    const loginCredentials = {\n      username: username,\n      password: password\n    };\n\n    const signUpCredentials = {\n      username: username,\n      password1: password,\n      password2: password2\n    };\n    //API Call here before clearing the fields\n    setError(false);\n    if (register) {\n      signUp(signUpCredentials);\n    } else {\n      signIn(loginCredentials);\n    }\n    //\n    setUsername('');\n    setPassword('');\n    setPassword2('');\n  };\n\n  function signIn(credentials) {\n    axios\n      .post(`https://lambda-mud-test.herokuapp.com/api/login/`, credentials)\n      .then(response => {\n        // place token in local storage for axiosWithAuth to handle it\n        localStorage.setItem('token', response.data.key);\n        //redirect user to game\n        props.history.push('/game');\n        setLoading(false);\n        window.location.reload();\n      })\n      .catch(error => {\n        console.log(error);\n        setError(true);\n        setLoading(false);\n      });\n  }\n\n  function signUp(credentials) {\n    axios\n      .post(\n        `https://lambda-mud-test.herokuapp.com/api/registration/`,\n        credentials\n      )\n      .then(response => {\n        // place token in local storage for axiosWithAuth to handle it\n        localStorage.setItem('token', response.data.key);\n        //redirect user to game\n        props.history.push('/game');\n        setLoading(false);\n        window.location.reload();\n      })\n      .catch(error => {\n        console.log(error);\n        setError(true);\n        setLoading(false);\n      });\n  }\n\n  if (loading) {\n    return (\n      <div>\n        <header className=\"App-header\">\n          <h1>Loading ...</h1>\n        </header>\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        <header className=\"App-header\">\n          <h1>{register ? 'Sign up' : 'Login'}</h1>\n          <br />\n          <form onSubmit={handleSubmit}>\n            {error && (\n              <h1 className=\"error\">Incorrect email or password, try again.</h1>\n            )}\n            <TextField\n              name=\"username\"\n              label=\"Email\"\n              variant=\"outlined\"\n              type=\"text\"\n              value={username}\n              onChange={e => setUsername(e.target.value)}\n              required\n              className=\"textField\"\n            />\n            <TextField\n              name=\"password\"\n              label=\"Password\"\n              variant=\"outlined\"\n              type=\"current-password\"\n              value={password}\n              onChange={e => setPassword(e.target.value)}\n              required\n              className=\"textField\"\n            />\n            {register && (\n              <TextField\n                name=\"password2\"\n                label=\"Confirm Password\"\n                variant=\"outlined\"\n                type=\"new-password\"\n                value={password2}\n                onChange={e => setPassword2(e.target.value)}\n                required\n                className=\"textField\"\n              />\n            )}\n            <br />\n            <br />\n            <Button type=\"submit\" id=\"submitButton\">\n              {register ? 'Sign up' : 'Login'}\n            </Button>\n          </form>\n          <p onClick={() => setRegister(!register)} id=\"signupButton\">\n            {register ? 'Already have account?' : 'Sign up'}\n          </p>\n        </header>\n      </div>\n    );\n  }\n};\n\nexport default Login;\n","import React from 'react';\n\nconst Game = () => {\n  return (\n    <div>\n      <header className=\"App-header\">\n        <h1>Game</h1>\n      </header>\n    </div>\n  );\n};\n\nexport default Game;\n","import React, { useState } from 'react';\nimport './App.css';\nimport { Route } from 'react-router-dom';\nimport PrivateRoute from './Auth/PrivateRoute';\n\n// Components\nimport NavBar from './Components/NavBar';\nimport Home from './Components/Home';\nimport Login from './Components/Login';\nimport Game from './Components/Game';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <NavBar />\n      {/* Routes */}\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/login\" component={Login} />\n      {/* Private routes */}\n      <PrivateRoute exact path=\"/game\" component={Game} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Reset_css.css';\nimport './index.css';\nimport App from './App';\n\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}